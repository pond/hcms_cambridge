<h1>All pages</h1>

<table>
  <thead>
    <tr>
      <th>Title</th>
      <th class="centre" colspan="2">Move</th>
      <th class="centre" colspan="3">Actions</th>
      <th class="centre">In navigation bar?</th>
    </tr>
  </thead>

  <tbody>
    <% @pages.each do | page | -%>

      <tr class="<%= cycle( 'even', 'odd' ) %>">
        <td><%= page.title %></td>
          <%= render :partial => 'actions', :locals => { :page => page } %>
        <td class="centre"><%= page.hidden? ? '<b>No</b>'.html_safe : 'Yes' %>
      </tr>

      <% page.children.each do | child_page | -%>

        <tr class="children <%= cycle( 'even', 'odd' ) %>">
          <td>&mdash; <%= child_page.title %></td>
            <%= render :partial => 'actions', :locals => { :page => child_page } %>
          <td class="centre"><%= child_page.hidden? ? '<b>No</b>'.html_safe : 'Yes' %>
        </tr>

      <% end -%>
    <% end -%>
  </tbody>
</table>

<br>

<%= link_to 'New page', new_admin_page_path %>
